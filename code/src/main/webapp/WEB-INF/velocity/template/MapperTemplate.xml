<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="${classInfo.basePackageName}.dao.${classInfo.className}Service">
    <select id="get${classInfo.className}ById" resultType="${classInfo.basePackageName}.entity.${classInfo.className}">
        select * from ${classInfo.tableName}
        where ${classInfo.primaryKey.columnName} = #{${classInfo.primaryKey.firstLetterLowerColumnName}}
    </select>

    <select id="list${classInfo.className}" resultType="${classInfo.basePackageName}.entity.${classInfo.className}">
        select * from ${classInfo.tableName}
        order by ${classInfo.primaryKey.columnName}
    </select>
    
    <insert id="save${classInfo.className}" parameterType="${classInfo.basePackageName}.entity.${classInfo.className}">
        insert into ${classInfo.tableName}(
#foreach($column in ${classInfo.columns})
		${column.columnName}#if( $foreach.hasNext ), 
#else

#end
#end
		)
        values(
#foreach($column in ${classInfo.columns})
	    #{${column.firstLetterLowerColumnName}}#if( $foreach.hasNext ), 
#else

#end
#end   
        )
    </insert>
    
    <update id="update${classInfo.className}" parameterType="${classInfo.basePackageName}.entity.${classInfo.className}">
        update ${classInfo.tableName}
        <set>
#foreach($column in ${classInfo.columns})
#if($column == ${classInfo.primaryKey})
#else
            <if test="${column.firstLetterLowerColumnName} != null and ${column.firstLetterLowerColumnName} != ''">
                ${column.firstLetterLowerColumnName} = #{${column.firstLetterLowerColumnName}}#if( $foreach.hasNext ), 
            </if>
#else
            
            </if>
#end
#end
#end
        </set>
        where ${classInfo.primaryKey.columnName} = #{${classInfo.primaryKey.firstLetterLowerColumnName}}
    </update>
    
    <delete id="delete${classInfo.className}">
        delete from ${classInfo.tableName}
        where ${classInfo.primaryKey.columnName} = #{${classInfo.primaryKey.firstLetterLowerColumnName}}
    </delete>
</mapper>